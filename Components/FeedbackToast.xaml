<UserControl x:Class="OMPS.Components.FeedbackToast"
             x:Name="ToastItem"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:xrpb="http://XamlRadialProgressBar/DotNet"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:local="clr-namespace:OMPS.Components"
             xmlns:Converters="clr-namespace:OMPS.Converters"
             d:DataContext="{d:DesignInstance Type=local:FeedbackToast}"
             mc:Ignorable="d" Opacity="1" Margin="0 0 0 0"
             VerticalAlignment="Top"
             Foreground="#eee"
             Height="{Binding ElementName=ToastItem, Path=FullHeight, FallbackValue=36, UpdateSourceTrigger=PropertyChanged}"
             d:DesignHeight="48" d:DesignWidth="400">

    <UserControl.Resources>
        
    </UserControl.Resources>

    <Border x:Name="border" ClipToBounds="True" CornerRadius="24" Background="#111"
            BorderThickness="0" BorderBrush="#292929" IsHitTestVisible="True"
            MouseEnter="ToastItem_MouseEnter" MouseLeave="ToastItem_MouseLeave" PreviewMouseLeftButtonUp="border_PreviewMouseLeftButtonUp"
            VerticalAlignment="Top">
        <Border.RenderTransform>
            <TransformGroup>
                <ScaleTransform/>
                <SkewTransform/>
                <RotateTransform/>
                <TranslateTransform Y="0"/>
            </TransformGroup>
        </Border.RenderTransform>
        <Grid x:Name="grid" Margin="8 4" d:DataContext="{d:DesignInstance Type=local:FeedbackToast}"
              Height="{Binding ElementName=ToastItem, Path=FullHeight, FallbackValue=36, UpdateSourceTrigger=PropertyChanged}"
              VerticalAlignment="Stretch" ClipToBounds="False">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1*"/>
                <ColumnDefinition Width="4*"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="16*"/>
                <ColumnDefinition Width="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H1, FallbackValue=24}"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <materialDesign:PackIcon x:Name="PckIco_title" Grid.Column="0" Grid.Row="0" Margin="0 -6 0 0"
                                     Kind="{Binding TitleIconType, FallbackValue=InfoCircleOutline}" Foreground="{Binding TitleIconColor, FallbackValue='#83C7E2'}" VerticalAlignment="Center" HorizontalAlignment="Center"
                                     Width="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H3, FallbackValue=14}"
                                     Height="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H3, FallbackValue=14}"/>
            <TextBlock Grid.Column="1" Grid.Row="0" VerticalAlignment="Center" TextAlignment="Center"
                       Text="{Binding ElementName=ToastItem, Path=Title, UpdateSourceTrigger=PropertyChanged, FallbackValue='Title 123'}"
                       FontSize="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H4, FallbackValue=12}" FontWeight="SemiBold"
                       Margin="2 -6 2 0" Padding="0"
                       TextTrimming="CharacterEllipsis" TextWrapping="WrapWithOverflow"/>
            <TextBlock Grid.Column="3" Grid.Row="0" HorizontalAlignment="Stretch" VerticalAlignment="Center" TextAlignment="Left"
                       Text="{Binding ElementName=ToastItem, Path=Body, UpdateSourceTrigger=PropertyChanged, FallbackValue='Default content text'}"
                       FontSize="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H4, FallbackValue=12}" FontWeight="Regular"
                       Margin="0 -6 0 0" Padding="0"
                       TextTrimming="CharacterEllipsis" TextWrapping="WrapWithOverflow"/>
            <xrpb:RadialProgressBar x:Name="RProgBar_Remaining" Grid.Column="4" Grid.Row="0" ClipToBounds="False"
                                    Height="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H2_1, FallbackValue=16}" Margin="0 -6 0 0"
                                    Width="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H2_1, FallbackValue=16}"
                                    Value="100" ArcWidth="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H1, Converter={Converters:ScalingConverter}, ConverterParameter=0.06, FallbackValue=16}" ArcRotationDegree="-90" Foreground="DodgerBlue"
                                    OuterBackgroundBrush="Transparent" ArcMode="Fill"
                                    VerticalAlignment="Center" HorizontalAlignment="Center"
                                    RenderTransformOrigin="0.5,0.5">
                <xrpb:RadialProgressBar.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform ScaleX="-2" ScaleY="2"/>
                        <SkewTransform/>
                        <RotateTransform/>
                        <TranslateTransform/>
                    </TransformGroup>
                </xrpb:RadialProgressBar.RenderTransform>
            </xrpb:RadialProgressBar>
            <Button x:Name="Btn_Dismiss" Grid.Column="4" Grid.Row="0" Style="{StaticResource MaterialDesignFlatButton}"
                    Padding="0" Margin="0 -6 0 0"
                    Width="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H3, FallbackValue=14}"
                    Height="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H3, FallbackValue=14}"
                    Click="Btn_Dismiss_Click" MouseEnter="Btn_Dismiss_MouseEnter" MouseLeave="Btn_Dismiss_MouseLeave">
                <materialDesign:PackIcon x:Name="PckIco_btn" Kind="None" Foreground="#aaa"
                                         Width="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H3, FallbackValue=14}"
                                         Height="{Binding ElementName=ToastItem, Path=Main_ViewModel.FontSize_H3, FallbackValue=14}"/>
            </Button>
        </Grid>
    </Border>
</UserControl>
